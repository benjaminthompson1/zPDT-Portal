<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>zPDT Portal — Mainframe Home</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:Arial,Helvetica,sans-serif;line-height:1.5;color:#161616;background:#f4f4f4;scroll-behavior:smooth}
    body{padding-top:60px}

    /* Navbar */
    .navbar{position:fixed;top:0;left:0;width:100%;background:#0f62fe;color:#fff;display:flex;align-items:center;justify-content:space-between;padding:12px 24px;z-index:1000}
    .navbar h1{font-size:18px;font-weight:600;display:flex;align-items:center;gap:8px}
    .navbar nav{display:flex;align-items:center}
    .navbar nav a{color:#fff;text-decoration:none;margin-left:20px;font-weight:600;font-size:14px}
    .navbar nav a[aria-current="true"]{text-decoration:underline}
    .navbar nav a:hover{text-decoration:underline}

    /* Hamburger menu */
    .hamburger{display:none;flex-direction:column;cursor:pointer}
    .hamburger span{height:3px;width:20px;background:#fff;margin:3px 0;border-radius:2px}
    @media(max-width:700px){
      .navbar nav{display:none;flex-direction:column;background:#0f62fe;position:absolute;top:50px;right:0;width:200px}
      .navbar nav.show{display:flex}
      .hamburger{display:flex}
      .navbar nav a{margin:12px}
    }

    .container{width:100%;max-width:1080px;margin:0 auto;padding:32px;background:#fff;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.1)}

    header{border-bottom:2px solid #e0e0e0;padding-bottom:16px;margin-bottom:20px}
    .brand h2{font-size:20px;font-weight:600;color:#0f62fe}
    p.lead{color:#525252;font-size:15px;margin-top:4px}

    .actions{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:24px}
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:10px 16px;border-radius:4px;text-decoration:none;font-weight:600;font-size:14px;transition:background .2s}
    .btn--primary{background:#0f62fe;color:#fff}
    .btn--primary:hover{background:#0043ce}
    .btn--muted{background:#e0e0e0;color:#161616}
    .btn--muted:hover{background:#c6c6c6}

    section{margin-bottom:36px}
    section h3{margin-bottom:16px;font-size:18px;color:#0f62fe;border-bottom:1px solid #e0e0e0;padding-bottom:4px}
    .back-top{text-align:right;margin-top:10px}
    .back-top a{font-size:12px;color:#0f62fe;text-decoration:none}
    .back-top a:hover{text-decoration:underline}

    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
    .card{padding:16px;border:1px solid #e0e0e0;border-radius:6px;background:#fff;transition:box-shadow .2s;position:relative}
    .card:hover{box-shadow:0 2px 8px rgba(0,0,0,0.08)}
    .card h4{margin-bottom:6px;font-size:16px;color:#0f62fe}
    .card p{margin:0;font-size:14px;color:#525252}
    .card a{display:inline-block;margin-top:10px;font-weight:600;text-decoration:none;color:#0f62fe;font-size:14px}
    .card a:hover{text-decoration:underline}
    .card i{margin-right:6px}

    /* Status indicator */
    .status{position:absolute;top:10px;right:10px;height:12px;width:12px;border-radius:50%;background:#bbb}
    .status.up{background:#24a148}
    .status.down{background:#da1e28}

    footer{margin-top:28px;border-top:1px solid #e0e0e0;padding-top:12px;font-size:12px;color:#6f6f6f;text-align:center}
  </style>
</head>
<body>
  <div class="navbar">
    <h1><i class="fas fa-server" aria-hidden="true"></i> zPDT Portal</h1>
    <div class="hamburger" id="hamburger" aria-label="Toggle navigation menu" role="button" tabindex="0">
      <span></span><span></span><span></span>
    </div>
    <nav id="nav">
      <a href="#system">System Management</a>
      <a href="#docs">Documentation</a>
      <a href="#tools">Tools</a>
    </nav>
  </div>

  <div class="container" role="main">
    <header>
      <div class="brand">
        <h2>zPDT — Personal Mainframe Landing</h2>
        <p class="lead">Your single place to reach z/OSMF, Zowe, QWT, and documentation for your zPDT environment.</p>
      </div>
    </header>

    <div class="actions" aria-label="Quick actions">
      <a class="btn btn--primary" href="#system">Go to System Management</a>
      <a class="btn btn--muted" href="#docs">Go to Documentation</a>
      <a class="btn btn--muted" href="#tools">Go to Tools</a>
    </div>

    <section id="system">
      <h3>System Management</h3>
      <div class="grid">
        <div class="card">
          <span class="status" id="zosmf-status" title="Status unknown"></span>
          <h4><i class="fas fa-cogs" aria-hidden="true"></i> z/OSMF</h4>
          <p>Web-based management for z/OS. Use this for system tasks, workflows, and REST APIs.</p>
          <a href="https://s0w1.dal-ebis.ihost.com:10443/zosmf/LogOnPanel.jsp" target="_blank" rel="noopener noreferrer">Open z/OSMF</a>
        </div>
        <div class="card">
          <span class="status" id="zowe-status" title="Status unknown"></span>
          <h4><i class="fas fa-plug" aria-hidden="true"></i> Zowe</h4>
          <p>Web UI and API gateway for mainframe tools. Helpful for file browsing, CLI, and extensions.</p>
          <a href="https://s0w1.dal-ebis.ihost.com:7554/zlux/ui/v1/ZLUX/plugins/org.zowe.zlux.bootstrap/web/" target="_blank" rel="noopener noreferrer">Open Zowe</a>
        </div>
        <div class="card">
          <span class="status" id="qwt-status" title="Status unknown"></span>
          <h4><i class="fas fa-chart-line" aria-hidden="true"></i> Db2 Query Workload Tuner</h4>
          <p>Tune and analyze Db2 workloads through the interactive Swagger UI.</p>
          <a href="https://s0w1.dal-ebis.ihost.com:11002/tuningservice/v1/swagger-ui/index.html" target="_blank" rel="noopener noreferrer">Open QWT Swagger UI</a>
        </div>
      </div>
      <div class="back-top"><a href="#">Back to top ↑</a></div>
    </section>

    <section id="docs">
      <h3>Documentation</h3>
      <div class="grid">
        <div class="card">
          <h4><i class="fas fa-book" aria-hidden="true"></i> Playbooks</h4>
          <p>Neale’s playbook for Db2 Tools environment on GitHub.</p>
          <a href="https://github.com/zeditor01/zowe_db2_tools/tree/main" target="_blank" rel="noopener noreferrer">Open Db2 Tools Playbook</a>
        </div>
        <div class="card">
          <h4><i class="fab fa-github" aria-hidden="true"></i> JCL Library</h4>
          <p>Sample and production JCL jobs stored centrally for easy reference.</p>
          <a href="https://github.com/benjaminthompson1/JCL" target="_blank" rel="noopener noreferrer">Open JCL Library</a>
        </div>
        <div class="card">
          <h4><i class="fas fa-book-open" aria-hidden="true"></i> General Docs</h4>
          <p>Links to IBM Knowledge Center or internal documentation.</p>
          <a href="https://www.ibm.com/docs/en" target="_blank" rel="noopener noreferrer">Open IBM Docs</a>
        </div>
      </div>
      <div class="back-top"><a href="#">Back to top ↑</a></div>
    </section>

    <section id="tools">
      <h3>Tools</h3>
      <div class="grid">
        <div class="card">
          <span class="status" id="guac-status" title="Status unknown"></span>
          <h4><i class="fas fa-desktop" aria-hidden="true"></i> Apache Guacamole</h4>
          <p>Remote desktop gateway (browser-based) for accessing systems like SSH, RDP, VNC, etc.</p>
          <a href="https://guac.mainframehome.net/#/" target="_blank" rel="noopener noreferrer">Open Guacamole</a>
        </div>
      </div>
      <div class="back-top"><a href="#">Back to top ↑</a></div>
    </section>

    <footer>
      <p id="last-updated"></p>
      <p>Maintained by Benjamin Thompson | Powered by IBM z/OS Liberty</p>
    </footer>
  </div>

  <script>
    // Hamburger toggle
    const hamburger=document.getElementById("hamburger");
    const nav=document.getElementById("nav");
    hamburger.addEventListener("click",()=>{nav.classList.toggle("show")});
    hamburger.addEventListener("keypress",(e)=>{if(e.key==="Enter"){nav.classList.toggle("show")}});

    // Active nav highlighting
    const sections=document.querySelectorAll("section");
    const navLinks=document.querySelectorAll(".navbar nav a");
    window.addEventListener("scroll",()=>{
      let current="";
      sections.forEach(section=>{
        const sectionTop=section.offsetTop-70;
        if(scrollY>=sectionTop){current=section.getAttribute("id")}
      });
      navLinks.forEach(link=>{
        link.removeAttribute("aria-current");
        if(link.getAttribute("href")==="#"+current){link.setAttribute("aria-current","true")}
      });
    });

    // Service status check (simple ping via <img> to avoid CORS)
    function checkService(url,id){
      const img=new Image();
      img.onload=()=>{document.getElementById(id).classList.add("up");document.getElementById(id).title="Up"};
      img.onerror=()=>{document.getElementById(id).classList.add("down");document.getElementById(id).title="Down"};
      img.src=url+"?check="+Date.now();
    }
    checkService("https://s0w1.dal-ebis.ihost.com:10443/zosmf/LogOnPanel.jsp","zosmf-status");
    checkService("https://s0w1.dal-ebis.ihost.com:7554/zlux/ui/v1/ZLUX/plugins/org.zowe.zlux.bootstrap/web/","zowe-status");
    checkService("https://s0w1.dal-ebis.ihost.com:11002/tuningservice/v1/swagger-ui/index.html","qwt-status");
    checkService("https://guac.mainframehome.net/favicon.ico","guac-status");

    // Last updated footer
    document.getElementById("last-updated").textContent="Last updated: "+new Date().toLocaleString();
  </script>
</body>
</html>
